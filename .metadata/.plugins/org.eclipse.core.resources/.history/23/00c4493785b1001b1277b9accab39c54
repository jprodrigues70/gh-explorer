package Query;

public class UserQuery implements QueryInterface {
	private String location;
	private String language;
	private String search;
	
	@Override
	public String getType() {
		return "Users";
	}

	public String getLocation() {
		return location;
	}

	public void setLocation(String location) {
		this.location = location;
	}

	public String getLanguage() {
		return language;
	}

	public void setLanguage(String language) {
		this.language = language;
	}

	@Override
	public String getSearch() {
		return this.search;
	}

	@Override
	public void setSearch(String search) {
		this.search = search;
	}

	@Override
	public void askAndMount() {
		System.out.println("Você quer usuários de qual localização? ('N' para não especificar)");
		System.out.println("Você quer usuários que programem em qual linguagem? ('N' para não especificar)");
	}

	@Override
	public String getQuery() {
		if (this.language.isEmpty() && this.location.isEmpty()) {
			throw new Exception("Você precisa informar uma linguagem ou localização.");
		} else if (this.language.isEmpty()) {
			return "?q=location%3A" + this.location + "language%3A" + this.language + "&type=" + this.getType() + "&ref=advsearch&l=" + this.language;
			} else if (this.location.isEmpty()) {
			return "?q=location%3A" + this.location + "language%3A" + this.language + "&type=" + this.getType() + "&ref=advsearch&l=" + this.language;
			}
		return "?q=location%3A" + this.location + "language%3A" + this.language + "&type=" + this.getType() + "&ref=advsearch&l=" + this.language;
	}
	
}
